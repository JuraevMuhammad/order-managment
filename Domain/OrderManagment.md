### Задача: Система управления заказами в интернет-магазине

**Цель**: Создать консольное приложение на C# для управления заказами в интернет-магазине. Приложение должно позволять пользователям добавлять продукты, создавать заказы, изменять и удалять заказы, а также отслеживать статус заказов и управлять клиентами.

---

### Структура проекта

1. **Создать решение**:

   - Создайте новое решение в Visual Studio с именем `OrderManagementSystem`.

2. **Создать два проекта**:

   - **Class Library**: Создайте проект Class Library с именем `OrderManagement.Infrastructure`.
   - **Console Application**: Создайте проект Console Application с именем `OrderManagement.MainApp`.

3. **Организация классов в Class Library**:
   - В проекте `OrderManagement.Infrastructure` создайте следующие классы и интерфейсы:
     - `IProductManager` (Интерфейс для управления продуктами): определяет методы для добавления, обновления и поиска продуктов.
     - `IOrderManager` (Интерфейс для управления заказами): определяет методы для создания, обновления и поиска заказов.
     - `ICustomerManager` (Интерфейс для управления клиентами): определяет методы для добавления и поиска клиентов.
     - `Product` (Продукт): содержит информацию о продукте (название, цена, количество в наличии).
     - `Order` (Заказ): содержит информацию о заказе (идентификатор заказа, список продуктов, общая стоимость, статус, дата создания).
     - `Customer` (Клиент): содержит информацию о клиенте (имя, фамилия, адрес, уникальный идентификатор).
     - `OrderManager` (Управление заказами): управляет списком продуктов, заказов и клиентов, предоставляет методы для управления ими.

---

### Описание классов и их методы

1. **Класс `Product`**

   - **Свойства**:
     - `string Name` — название продукта.
     - `decimal Price` — цена продукта.
     - `int Quantity` — количество продукта в наличии.

2. **Класс `Order`**

   - **Свойства**:
     - `int OrderId` — уникальный идентификатор заказа.
     - `int CustomerId` - идентификатор клиента которые совершил заказ.
     - `List<Product> Products` — список продуктов в заказе.
     - `decimal TotalPrice` — общая стоимость заказа.
     - `string Status` — статус заказа (например, "В обработке", "Отправлен").
     - `DateTime DateCreated` — дата создания заказа.

3. **Класс `Customer`**

   - **Свойства**:
     - `string FirstName` — имя клиента.
     - `string LastName` — фамилия клиента.
     - `string Address` — адрес клиента.
     - `string CustomerId` — уникальный идентификатор клиента.

4. **Интерфейс `IProductManager`**

   - **Методы**:
     - `void AddProduct(Product product)`: добавляет продукт.
     - `void DisplayProducts()`: выводит информацию о всех продуктах.
     - `Product FindProduct(string searchTerm)`: ищет продукт по названию.

5. **Интерфейс `IOrderManager`**

   - **Методы**:
     - `void CreateOrder(List<Product> products, Customer customer)`: создает новый заказ.
     - `void UpdateOrderStatus(int orderId, string status)`: изменяет статус заказа.
     - `void DisplayOrders()`: выводит информацию о всех заказах.

6. **Интерфейс `ICustomerManager`**
   - **Методы**:
     - `void AddCustomer(Customer customer)`: добавляет клиента.
     - `Customer FindCustomer(string searchTerm)`: ищет клиента по имени.

> Реализовать все 3 предыдущих интерфейса в классе `OrderManager` 7. **Класс `OrderManager`**

- **Свойства**:
  - `List<Product> Products` — список всех продуктов.
  - `List<Order> Orders` — список всех заказов.
  - `List<Customer> Customers` — список всех клиентов.
- **Методы**:
  - `void AddProduct(Product product)`: добавляет продукт в список.
  - `void CreateOrder(List<Product> products, Customer customer)`: создает новый заказ и возвращает его.
  - `void UpdateOrderStatus(int orderId, string status)`: изменяет статус заказа.
  - `Product FindProduct(string searchTerm)`: ищет продукт по названию и возвращает его.
  - `Customer FindCustomer(string searchTerm)`: ищет клиента по имени и возвращает его.
  - `void DisplayProducts()`: выводит информацию о всех продуктах.
  - `void DisplayOrders()`: выводит информацию о всех заказах.
  - `void DisplayCustomers()`: выводит информацию о всех клиентах.

---

### Функциональные требования

1. **Типы данных и коллекции**:

   - Используйте коллекции `List<T>` для хранения продуктов, заказов и клиентов.

2. **Условные выражения и циклы**:

   - Применяйте `if..else` и `switch` для логики, а также циклы для перебора элементов.

3. **Обработка исключений**:

   - Используйте конструкцию `try..catch` для обработки возможных ошибок, таких как недоступность продукта.

4. **Форматирование строк**:

   - Применяйте интерполяцию строк и форматирование для вывода информации о заказах и продуктах.

5. **Работа с датами и временем**:

   - Используйте `DateTime` для хранения даты создания заказа и форматируйте его для отображения.

6. **Перечисления**:

   - Используйте перечисления для статусов заказов (например, `OrderStatus` с значениями `Pending`, `Shipped`, `Delivered`).

7. **Интерфейсы**:
   - Определите интерфейсы для управления продуктами, заказами и клиентами, чтобы обеспечить гибкость и расширяемость кода.

---

### Пример навигации в консоли

Добро пожаловать в систему управления заказами!  
Выберите действие, введя номер пункта меню:

1. Добавить продукт
2. Создать заказ
3. Изменить статус заказа
4. Найти продукт
5. Найти клиента
6. Отобразить все продукты
7. Отобразить все заказы
8. Отобразить всех клиентов
9. Выйти из программы

---

1. **Добавить продукт**

   - Запрашивает у пользователя информацию о новом продукте (название, цена, количество) и добавляет его в систему.
   - **Пример ответа**:
     ```
     Введите название продукта: Яблоко
     Введите цену продукта: 50.0
     Введите количество: 100
     Продукт "Яблоко" успешно добавлен.
     Нажмите Enter для возврата в меню...
     ```

2. **Создать заказ**

   - Запрашивает у пользователя список продуктов для заказа и информацию о клиенте, создаёт новый заказ и добавляет его в систему.
   - **Пример ответа**:
     ```
     Введите ID клиента: 1
     Введите ID продукта (для завершения введите 0): 2
     Введите ID продукта (для завершения введите 0): 3
     Заказ успешно создан с ID 101.
     Нажмите Enter для возврата в меню...
     ```

3. **Изменить статус заказа**

   - Запрашивает у пользователя идентификатор заказа и новый статус, изменяет статус заказа в системе.
   - **Пример ответа**:
     ```
     Введите ID заказа: 101
     Введите новый статус (Pending, Shipped, Delivered): Shipped
     Статус заказа изменён на "Shipped".
     Нажмите Enter для возврата в меню...
     ```

4. **Найти продукт**

   - Запрашивает у пользователя название продукта, ищет его в системе и выводит информацию о найденном продукте.
   - **Пример ответа**:
     ```
     Введите название продукта для поиска: Яблоко
     Продукт найден: Яблоко, Цена: 50.0, Количество: 100
     Нажмите Enter для возврата в меню...
     ```

5. **Найти клиента**

   - Запрашивает у пользователя имя клиента, ищет его в системе и выводит информацию о найденном клиенте.
   - **Пример ответа**:
     ```
     Введите имя клиента для поиска: Иван
     Клиент найден: Иван Иванов, Адрес: Улица 1, ID: 1
     Нажмите Enter для возврата в меню...
     ```

6. **Отобразить все продукты**

   - Выводит список всех продуктов, хранящихся в системе, с их информацией.
   - **Пример ответа**:
     ```
     Список всех продуктов:
     1. Яблоко - Цена: 50.0, Количество: 100
     2. Апельсин - Цена: 60.0, Количество: 80
     Нажмите Enter для возврата в меню...
     ```

7. **Отобразить все заказы**

   - Выводит список всех заказов с их статусами и датами создания.
   - **Пример ответа**:
     ```
     Список всех заказов:
     1. Заказ ID: 101, Статус: Shipped, Дата: 2024-10-01
     2. Заказ ID: 102, Статус: Pending, Дата: 2024-10-02
     Нажмите Enter для возврата в меню...
     ```

8. **Отобразить всех клиентов**

   - Выводит список всех клиентов с их информацией.
   - **Пример ответа**:
     ```
     Список всех клиентов:
     1. Иван Иванов - Адрес: Улица 1
     2. Петр Петров - Адрес: Улица 2
     Нажмите Enter для возврата в меню...
     ```

9. **Выйти из программы**
   - Завершает выполнение приложения.
   - **Пример ответа**:
     ```
     Спасибо за использование системы управления заказами!
     Программа завершена.
     ```

---
